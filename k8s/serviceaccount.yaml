# Kubernetes service account for the server pods.
# Annotated with the Bedrock IRSA role ARN so the AWS SDK inside the container
# automatically exchanges the projected token for short-lived AWS credentials
# without any long-lived keys in the image or environment.
#
# The annotation value is templated â€” the deploy script substitutes
# BEDROCK_ROLE_ARN using envsubst before applying.
apiVersion: v1
kind: ServiceAccount
metadata:
  name: server-sa
  namespace: barclays-mortgage
  annotations:
    eks.amazonaws.com/role-arn: "${BEDROCK_ROLE_ARN}"
